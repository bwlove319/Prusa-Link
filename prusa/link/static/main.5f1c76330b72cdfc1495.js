(()=>{var e={876:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=a.p+"fd297e7834f7f69092ee2c7624e622b3.png"},246:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=a.p+"ec30c7e21ce031bd59eeb9510594453b.svg"},730:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=a.p+"4aa1f1e7bdc94539ed151cdf032e3a0e.svg"},456:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=a.p+"64e5713db768a7c2be0c351eaa3cb791.svg"},819:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=a.p+"1c5634d86690c4261b7177a2fd17dbd9.svg"},38:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=a.p+"01094fb30d03a67de0ec7571bb25af60.svg"},43:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=a.p+"e5a2ef213c1d2d992c1d65be1e538d97.svg"},578:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=a.p+"325c362515b4229fafe16b2bb7ae2cf3.svg"},290:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=a.p+"59943b7422c54ea2dcc0f8655227c88c.svg"},622:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=a.p+"820fb41a7be5c5ee0282d215f1710752.svg"},373:(e,t,a)=>{var n=a(91),s=a(876),i=a(290),l=a(43),o=a(246),r=a(578),d=a(456),c=a(819),p=a(730),u=a(622),m=a(38),g=n(s),v=n(i),h=n(l),f=n(o),b=n(r),y=n(d),w=n(c),x=n(p),j=n(u),z=n(m),k=' <div id="title" class="txt-size-1"> <p class="title-status"> <span data-label="home.title" class="txt-grey">Printer status: </span> <span id="title-status">Idle</span> </p> <p class="title-hostname"> <span data-label="glob.hostname" class="txt-grey">Hostname: </span> <span id="title-hostname" class="txt-orange">localhost</span> </p> </div> <div id="job" hidden> <p data-type="job" data-where="job.file.name" class="txt-bold txt-size-2"></p> <div class="preview-wrapper"> <div class="preview-img"> <img id="preview-img" src="'+g+'"/> </div> <div class="progress progress-with-img" hidden> <div> <div class="progress-img-wrapper"></div> <div class="progress-bar" role="status"> <div class="fill"></div> </div> <div class="progress-pct"> <p class="txt-size-h1" data-format="progress" data-type="job" data-where="progress.completion"> 0% </p> </div> </div> </div> <div class="progress progress-without-img" hidden> <p class="txt-size-h1" data-format="progress" data-type="job" data-where="progress.completion"> 0% </p> <div class="progress-bar" role="status"> <div class="fill"></div> </div> </div> <div class="job-details"> <div class="job-prop"> <img class="icon" src="'+v+'"/> <div class="job-prop-grid"> <div> <p data-label="prop.rem-time" class="txt-size-2 txt-grey"> Remaining Time </p> <p data-format="time" data-type="job" data-where="progress.printTimeLeft" class="txt-bold txt-size-2"> NA </p> </div> <div> <p data-label="prop.time-est" class="txt-size-2 txt-grey"> Print Time Estimate </p> <p data-format="time" data-type="file" data-where="gcodeAnalysis.estimatedPrintTime" class="txt-bold txt-size-2"> NA </p> </div> <div> <p data-label="prop.est-end" class="txt-size-2 txt-grey"> Estimated end </p> <p data-format="timeEst" data-type="file" data-where="gcodeAnalysis.estimatedPrintTime" class="txt-bold txt-size-2"> NA </p> </div> <div> <p data-label="prop.pnt-time" class="txt-size-2 txt-grey"> Printing Time </p> <p data-format="time" data-type="job" data-where="progress.printTime" class="txt-bold txt-size-2"> NA </p> </div> </div> </div> <div class="job-prop"> <img class="icon" src="'+h+'"/> <div class="job-prop-grid"> <div> <p data-label="prop.layers" class="txt-size-2 txt-grey"> Layer </p> <p data-format="int" data-type="job" data-where="job.file.layers" class="txt-bold txt-size-2"> NA </p> </div> <div> <p data-label="prop.layer-ht" class="txt-size-2 txt-grey"> Layer Height </p> <p data-format="layer" data-type="job" data-where="job.file.layerHeight" class="txt-bold txt-size-2"> NA </p> </div> </div> </div> <div class="job-prop"> <img class="icon" src="'+f+'"/> <div class="job-prop-grid"> <div> <p data-label="prop.last-mod" class="txt-size-2 txt-grey"> Last Modified </p> <p data-format="date" data-type="file" data-where="date" class="txt-bold txt-size-2"> NA </p> </div> </div> </div> <div class="job-prop"> <img class="icon" src="'+b+'"/> <div class="job-prop-grid"> <div> <p data-label="prop.material" class="txt-size-2 txt-grey"> Material </p> <p data-format="material" data-type="file" data-where="gcodeAnalysis.material" class="txt-bold txt-size-2"> NA </p> </div> </div> </div> </div> </div> <div class="job-buttons"> <div class="job-buttons-first"> <button id="delete" class="no"> <img src="'+y+'"/> <p data-label="btn.del"> delete </p> </button> <button id="download" class="btn action"> <img src="'+w+'"/> <p data-label="btn.download"> download </p> </button> </div> <div class="buttons-wrapper"> <button id="pause" class="action"> <img src="'+x+'"/> <p data-label="btn.pause-pt"> pause print </p> </button> <button id="pausing" class="action" disabled="disabled"> <p data-label="prop.st-pausing"> pausing </p> </button> <button id="resume" class="yes"> <img src="'+j+'"/> <p data-label="btn.resume-pt"> resume </p> </button> <button id="start" class="yes"> <img src="'+j+'"/> <p data-label="btn.start-pt"> start print </p> </button> <button id="cancel" class="no"> <img src="'+x+'"/> <p data-label="btn.cancel"> cancel </p> </button> <button id="cancel-pt" class="no"> <img src="'+x+'"/> <p data-label="btn.cancel-pt"> cancel print </p> </button> </div> </div> <div class="loading-overlay"> <img class="icon abs-center" src="'+z+'"/> </div></div> <template id="modal-confirm"> <div class="modal-confirm"> <div> <span data-label="print.fdm.1">Is the printer ready?</span> <div data-label="print.fdm.2">Is printing sheet is empty and clean?</div> </div> <div class="buttons-wrapper"> <button class="yes" id="yes"> <img src="'+j+'"/> <p data-label="btn.confirm">Confirm</p> </button> <button class="no" id="no"> <img src="'+x+'"/> <p data-label="btn.cancel">Cancel</p> </button> </div> </div> </template> <div class="main-wrapper home-row"> <div class="component"> <p data-label="upld.title" class="txt-bold txt-grey txt-size-2">upload project</p> <div id="upload" data-state="choose"> <input type="file">  <div class="state-choose"> <img class="icon" src="'+w+'"/> <p>Choose a *.sl1 or drop it here.</p> </div> <div class="abs-center state-uploading"> <img class="icon abs-center" src="'+z+'"/> <p id="upload-progress" class="abs-center"></p> </div> </div> </div> <div class="component"> <p data-label="temps.title" class="txt-bold txt-grey txt-size-2">temperatures</p> <div id="graph" class="temp"></div> </div> </div> ';e.exports=k},685:(e,t,a)=>{var n=' <div id="title" class="txt-size-1"> <p id="title-status-label" class="txt-grey"></p> <p class="title-hostname"> <span id="title-hostname-label" class="txt-grey">Hostname: </span> <span id="title-hostname" class="txt-orange"></span> </p> </div> <div class="loading"> <img class="icon" src="'+a(91)(a(38))+'"/> </div> ';e.exports=n},3:(e,t,a)=>{var n=a(91),s=a(876),i=a(290),l=a(43),o=a(246),r=a(578),d=a(456),c=a(819),p=a(730),u=a(622),m=a(38),g=n(s),v=n(i),h=n(l),f=n(o),b=n(r),y=n(d),w=n(c),x=n(p),j=n(u),z=n(m),k=' <div id="title" class="txt-size-1"> <p id="title-status-label" class="txt-grey"></p> <p class="title-hostname"> <span id="title-hostname-label" class="txt-grey">Hostname: </span> <span id="title-hostname" class="txt-orange"></span> </p> </div> <div class="main-wrapper center"> <div id="job" hidden> <p data-type="job" data-where="job.file.name" class="txt-bold txt-size-2"></p> <div class="preview-wrapper"> <div class="preview-img"> <img id="preview-img" src="'+g+'"/> </div> <div class="progress progress-with-img" hidden> <div> <div class="progress-img-wrapper"></div> <div class="progress-bar" role="status"> <div class="fill"></div> </div> <div class="progress-pct"> <p class="txt-size-h1" data-format="progress" data-type="job" data-where="progress.completion"> 0% </p> </div> </div> </div> <div class="progress progress-without-img" hidden> <p class="txt-size-h1" data-format="progress" data-type="job" data-where="progress.completion"> 0% </p> <div class="progress-bar" role="status"> <div class="fill"></div> </div> </div> <div class="job-details"> <div class="job-prop"> <img class="icon" src="'+v+'"/> <div class="job-prop-grid"> <div> <p data-label="prop.rem-time" class="txt-size-2 txt-grey"> Remaining Time </p> <p data-format="time" data-type="job" data-where="progress.printTimeLeft" class="txt-bold txt-size-2"> NA </p> </div> <div> <p data-label="prop.time-est" class="txt-size-2 txt-grey"> Print Time Estimate </p> <p data-format="time" data-type="file" data-where="gcodeAnalysis.estimatedPrintTime" class="txt-bold txt-size-2"> NA </p> </div> <div> <p data-label="prop.est-end" class="txt-size-2 txt-grey"> Estimated end </p> <p data-format="timeEst" data-type="file" data-where="gcodeAnalysis.estimatedPrintTime" class="txt-bold txt-size-2"> NA </p> </div> <div> <p data-label="prop.pnt-time" class="txt-size-2 txt-grey"> Printing Time </p> <p data-format="time" data-type="job" data-where="progress.printTime" class="txt-bold txt-size-2"> NA </p> </div> </div> </div> <div class="job-prop"> <img class="icon" src="'+h+'"/> <div class="job-prop-grid"> <div> <p data-label="prop.layers" class="txt-size-2 txt-grey"> Layer </p> <p data-format="int" data-type="job" data-where="job.file.layers" class="txt-bold txt-size-2"> NA </p> </div> <div> <p data-label="prop.layer-ht" class="txt-size-2 txt-grey"> Layer Height </p> <p data-format="layer" data-type="job" data-where="job.file.layerHeight" class="txt-bold txt-size-2"> NA </p> </div> </div> </div> <div class="job-prop"> <img class="icon" src="'+f+'"/> <div class="job-prop-grid"> <div> <p data-label="prop.last-mod" class="txt-size-2 txt-grey"> Last Modified </p> <p data-format="date" data-type="file" data-where="date" class="txt-bold txt-size-2"> NA </p> </div> </div> </div> <div class="job-prop"> <img class="icon" src="'+b+'"/> <div class="job-prop-grid"> <div> <p data-label="prop.material" class="txt-size-2 txt-grey"> Material </p> <p data-format="material" data-type="file" data-where="gcodeAnalysis.material" class="txt-bold txt-size-2"> NA </p> </div> </div> </div> </div> </div> <div class="job-buttons"> <div class="job-buttons-first"> <button id="delete" class="no"> <img src="'+y+'"/> <p data-label="btn.del"> delete </p> </button> <button id="download" class="btn action"> <img src="'+w+'"/> <p data-label="btn.download"> download </p> </button> </div> <div class="buttons-wrapper"> <button id="pause" class="action"> <img src="'+x+'"/> <p data-label="btn.pause-pt"> pause print </p> </button> <button id="pausing" class="action" disabled="disabled"> <p data-label="prop.st-pausing"> pausing </p> </button> <button id="resume" class="yes"> <img src="'+j+'"/> <p data-label="btn.resume-pt"> resume </p> </button> <button id="start" class="yes"> <img src="'+j+'"/> <p data-label="btn.start-pt"> start print </p> </button> <button id="cancel" class="no"> <img src="'+x+'"/> <p data-label="btn.cancel"> cancel </p> </button> <button id="cancel-pt" class="no"> <img src="'+x+'"/> <p data-label="btn.cancel-pt"> cancel print </p> </button> </div> </div> <div class="loading-overlay"> <img class="icon abs-center" src="'+z+'"/> </div></div> <template id="modal-confirm"> <div class="modal-confirm"> <div> <span data-label="print.fdm.1">Is the printer ready?</span> <div data-label="print.fdm.2">Is printing sheet is empty and clean?</div> </div> <div class="buttons-wrapper"> <button class="yes" id="yes"> <img src="'+j+'"/> <p data-label="btn.confirm">Confirm</p> </button> <button class="no" id="no"> <img src="'+x+'"/> <p data-label="btn.cancel">Cancel</p> </button> </div> </div> </template> <div class="component proj-upload"> <p data-label="upld.title" class="txt-bold txt-grey txt-size-2">upload project</p> <div id="upload" data-state="choose"> <input type="file">  <div class="state-choose"> <img class="icon" src="'+w+'"/> <p>Choose a *.sl1 or drop it here.</p> </div> <div class="abs-center state-uploading"> <img class="icon abs-center" src="'+z+'"/> <p id="upload-progress" class="abs-center"></p> </div> </div> </div> <div id="projects"></div> </div> <template id="node-up"> <div class="node"> <img class="node-icon" src="data:image/svg+xml,%3csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;21&#39; height=&#39;22.275&#39; viewBox=&#39;0 0 82.32 87.32&#39; shape-rendering=&#39;geometricPrecision&#39; text-rendering=&#39;geometricPrecision&#39; image-rendering=&#39;optimizeQuality&#39; fill-rule=&#39;evenodd&#39; clip-rule=&#39;evenodd&#39;%3e%3cpath fill=&#39;%23f8651b&#39; d=&#39;M82.32 70.56H50.96V39.2h19.6L35.28 0 0 39.2h19.6v48.12h62.72z&#39;/%3e%3c/svg%3e"/> <p class="txt-size-2"></p> </div> </template> <template id="node-folder"> <div class="node line"> <img class="node-icon" src="data:image/svg+xml,%3csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;19.252&#39; height=&#39;14.955&#39; fill-rule=&#39;evenodd&#39; clip-rule=&#39;evenodd&#39; image-rendering=&#39;optimizeQuality&#39; shape-rendering=&#39;geometricPrecision&#39; text-rendering=&#39;geometricPrecision&#39; viewBox=&#39;0 0 15.062 11.696&#39;%3e%3cpath fill=&#39;%23f8651b&#39; d=&#39;M.001 5.847v-5.85h3.077l.214.247c.277.323.822.867 1.066 1.069.413.339.784.547 1.246.696.576.185.197.172 5.093.18l4.365.005v9.503H0z&#39;/%3e%3c/svg%3e"/> <p class="txt-size-2"></p> </div> </template> <template id="node-project"> <div class="node line"> <div class="node-img-box"> <img class="node-img" src="'+g+'"/> </div> <div class="node-wrapper txt-size-2"> <p id="name" class=""></p> <div class="node-details"> <div class="details" data-format="time" data-where="gcodeAnalysis.estimatedPrintTime"> <img class="icon" src="'+v+'"/> <p data-label="prop.pnt-time" class="txt-grey"> Printing time <span></span> </p> </div> <div class="details" data-format="material" data-where="gcodeAnalysis.material"> <img class="icon" src="'+b+'"/> <p data-label="prop.material" class="txt-grey"> Material <span></span> </p> </div> </div> <div class="buttons-wrapper"> <button class="no" id="delete"> <img src="'+y+'"/> <p data-label="btn.del">delete</p> </button> <button class="btn action" id="download"> <img src="'+w+'"/> <p data-label="btn.download">download</p> </button> </div> </div> </div> </template> ';e.exports=k},198:(e,t,a)=>{var n=a(91),s=a(622),i=a(730),l=' <div id="title" class="txt-size-1"> <p id="title-status-label" class="txt-grey"></p> <p class="title-hostname"> <span id="title-hostname-label" class="txt-grey">Hostname: </span> <span id="title-hostname" class="txt-orange"></span> </p> </div> <div class="main-wrapper"> <div id="question" class="txt-size-2"></div> <div class="buttons-wrapper"> <button class="yes" id="yes"> <img src="'+n(s)+'"/> <p>save changes</p> </button> <button class="no" id="no"> <img src="'+n(i)+'"/> <p>cancel</p> </button> </div> </div> ';e.exports=l},936:(e,t,a)=>{var n=a(91),s=a(622),i=a(730),l=n(s),o=n(i),r=' <div id="title" class="txt-size-1"> <p id="title-status-label" class="txt-grey"></p> <p class="title-hostname"> <span id="title-hostname-label" class="txt-grey">Hostname: </span> <span id="title-hostname" class="txt-orange"></span> </p> </div> <div class="main-wrapper center" id="settings"> <div class="component"> <p class="txt-bold txt-grey txt-size-2" data-label="version.title">version</p> <div class="table"> <div class="row"> <div class="col txt-size-3"> <p class="txt-bold txt-grey" data-label="version.api">api </p> </div> <div class="col txt-size-2"> <p data-type="settings" data-where="version.api"></p> </div> </div> <div class="row"> <div class="col txt-size-3"> <p class="txt-bold txt-grey" data-label="version.hostname">hostname</p> </div> <div class="col txt-size-2"> <p data-type="settings" data-where="version.hostname"></p> </div> </div> <div class="row"> <div class="col txt-size-3"> <p class="txt-bold txt-grey" data-label="version.firmware">firmware</p> </div> <div class="col txt-size-2"> <p data-type="settings" data-where="version.firmware"></p> </div> </div> <div class="row"> <div class="col txt-size-3"> <p class="txt-bold txt-grey" data-label="version.server">server</p> </div> <div class="col txt-size-2"> <p data-type="settings" data-where="version.server"></p> </div> </div> <div class="row"> <div class="col txt-size-3"> <p class="txt-bold txt-grey" data-label="version.text">text</p> </div> <div class="col txt-size-2"> <p data-type="settings" data-where="version.text"></p> </div> </div> <div class="row"> <div class="col txt-size-3"> <p class="txt-bold txt-grey" data-label="version.sdk">sdk</p> </div> <div class="col txt-size-2"> <p data-type="settings" data-where="version.sdk"></p> </div> </div> </div> </div> <div class="component" id="sys-version"> <p class="txt-bold txt-grey txt-size-2" data-label="sys-version.title">system version</p> <div class="table"> </div> </div> <div class="component"> <p class="txt-bold txt-grey txt-size-2" data-label="conn.title">connection</p> <div class="table"> <div class="row"> <div class="col txt-size-3"> <p class="txt-bold txt-grey" data-label="conn.prusa-connect-status">PRUSA CONNECT connection status</p> </div> <div class="col txt-size-2"> <div class="connection-status" ok="false" id="conn-prusa-connect-status"> <p ok="true"> <span data-label="conn.suc">Successfully connected</span> <img class="icon" src="'+l+'"/> </p> <p ok="false"> <span data-label="conn.unsuc">Connection failed</span> <img class="icon" src="'+o+'"/> </p> </div> </div> </div> <div class="row"> <div class="col txt-size-3"> <p class="txt-bold txt-grey" data-label=""></p> </div> <div class="col txt-size-2"> <p id="conn-prusa-connect-status-msg"></p> </div> </div> <div class="row"> <div class="col txt-size-3"> <p class="txt-bold txt-grey" data-label="conn.printer-status">3D printer connection status</p> </div> <div class="col txt-size-2"> <div class="connection-status" ok="false" id="conn-printer-status"> <p ok="true"> <span data-label="conn.suc">Successfully connected</span> <img class="icon" src="'+l+'"/> </p> <p ok="false"> <span data-label="conn.unsuc">Connection failed</span> <img class="icon" src="'+o+'"/> </p> </div> </div> </div> <div class="row"> <div class="col txt-size-3"> <p class="txt-bold txt-grey" data-label=""></p> </div> <div class="col txt-size-2"> <p id="conn-printer-status-msg"></p> </div> </div> </div> </div> <div class="component"> <p class="txt-bold txt-grey txt-size-2" data-label="logs.title">logs</p> <div class="table"> <div class="row"> <div class="col txt-size-3"> <p class="txt-bold txt-grey" data-label="logs.select-file">select file</p> </div> <div class="col txt-size-2"> <select data-type="dropdown"></select> </div> <div class="col"> <button class="action" id="download-log"> <p>download file</p> </button> </div> </div> </div> </div> <div class="component"> <ul class="logs"> <li data-label="logs.empty-list">No logs available!</li> </ul> </div> </div> ';e.exports=r},319:e=>{e.exports=' <div id="title" class="txt-size-1"> <p id="title-status-label" class="txt-grey"></p> <p class="title-hostname"> <span id="title-hostname-label" class="txt-grey">Hostname: </span> <span id="title-hostname" class="txt-orange"></span> </p> </div> <div class="main-wrapper row" id="graph"></div> '},91:e=>{"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e)}},648:(e,t,a)=>{"use strict";a.d(t,{LK:()=>r,Z5:()=>v,gJ:()=>u,hn:()=>m,iT:()=>d});var n=a(236),s=a(351);const i=()=>new Promise(((e,t)=>{(0,n.o)((e=>t=>{const a=document.getElementById("modal-apiKey"),n=document.importNode(a.content,!0);return n.getElementById("apiKey").addEventListener("keydown",(a=>{"Enter"==a.key&&(t(),e(a.target.value))})),n.getElementById("login").addEventListener("click",(a=>{a.preventDefault();let n=document.getElementById("apiKey").value;t(),e(n)})),n})(e),{timeout:0,closeOutside:!1})})).then((e=>sessionStorage.setItem("apiKey",e))),l=e=>"ApiKey"==sessionStorage.getItem("authType")?{"X-Api-Key":sessionStorage.getItem("apiKey"),Accept:e||"application/json"}:{Accept:e||"application/json"},o=()=>new Promise(((e,t)=>(sessionStorage.setItem("auth","pending"),fetch("/api/version",{headers:l()}).then((t=>{if(401==t.status){t.json().then((e=>(0,s.S)({data:e})));const a=t.headers.get("WWW-Authenticate").split(" ")[0];return sessionStorage.setItem("authType",a),sessionStorage.removeItem("apiKey"),"ApiKey"==a?i().then((()=>o().then((t=>e(t))))):o().then((t=>e(t)))}return t.json()})).then((t=>{sessionStorage.setItem("auth","true"),e(t)}))))),r=(e,t={})=>c(e,t,"application/json","json"),d=(e,t={})=>c(e,t,"text/plain","text"),c=(e,t={},a,n)=>new Promise(((s,i)=>{"true"==sessionStorage.getItem("auth")?(t.headers={...t.headers,...l(a)},fetch(e,t).then((e=>{const t=e.status,a={code:t,eTag:e.headers.get("etag")};401==t?(sessionStorage.setItem("auth","false"),i(a)):204==t||304==t?s(a):e[n]().then((t=>{a.data=t,e.ok?s(a):i(a)}))}))):i({code:401})})),p=(e,t)=>new Promise(((a,n)=>{"true"==sessionStorage.getItem("auth")?(t.headers={...t.headers,...l()},fetch(e,t).then((e=>{401==e.status&&(sessionStorage.setItem("auth","false"),n(e)),e.ok?e.blob().then((e=>a(URL.createObjectURL(e)))):n(e)})).catch((e=>n(e)))):n()})),u=e=>p(e,{headers:{"Content-Type":"image/png"}}),m=e=>p(e,{}),g=e=>{const t=document.getElementById("modal-welcome"),a=document.importNode(t.content,!0);return a.querySelector(".close-button").addEventListener("click",e),a},v=()=>null==localStorage.getItem("showWelcome")?new Promise(((e,t)=>{(0,n.o)(g,{closeCallback:()=>{localStorage.setItem("showWelcome",!0),e()}})})).then((()=>o())):o()},537:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n=function(e){return"string"==typeof e?document.getElementById(e):e||document.body}},741:e=>{e.exports=function(e,t){let a=t.split("."),n=e;for(const e of a)if(n=n[e],!n)break;return n}},780:(e,t,a)=>{"use strict";a.d(t,{m0:()=>u,G3:()=>m,Vb:()=>g,Iu:()=>v,ot:()=>f});var n=a(537),s=a(741),i=a.n(s);const l=a(242),o=l.langs,r=l.texts;let d,c;function p(){return navigator.language||navigator.userLanguage||""}function u(e){const t=o.indexOf(e);return-1!==t&&(c=t,d=e,localStorage.setItem("lang",d),!0)}function m(){return d}function g(){return[...o]}function v(e,t){let a=i()(r,`${e}.${c}`);if(null==a)return a=e,console.warn(`[${d}] missing translation for "${e.split("\n").join("\\n")}"`),h(a,t),a;let n=null;if(t&&(n=Object.assign({},t),delete n.query,delete n.ref),n&&Object.keys(n).length>0){let n,s=a,i=/{{(.*?)}}/g;for(;n=i.exec(a);){let i=a.substr(n.index+2,n[0].length-4);if("query"!==i&&"ref"!==i)if(i in t){let e=t[i];s=s.replace(n[0],e)}else console.warn(`missing parameter [${i}] in translation for ${e}.`)}a=s}return h(a,t),a}function h(e,t){if(t)if(t.ref){t.ref.innerHTML=e}else if(t.query){let a=document.querySelector(t.query);a?a.innerHTML=e:console.warn(`cannot find element with "${t.query}" query`)}}function f(e){(0,n.Z)(e).querySelectorAll('[data-label]:not([data-label=""])').forEach((e=>{e.innerHTML=v(e.getAttribute("data-label"))}))}console.log(`known languages: ${o}`),console.log("known texts: "),console.log(r),u(localStorage.getItem("lang"))||u(p().toLowerCase())||u(p().toLowerCase().split("-")[0])||u("en")},242:e=>{"use strict";e.exports=JSON.parse('{"langs":["cs","de","en","es","fr","it","pl"],"texts":{"home":{"link":["Přehled","Dashboard","Dashboard","Panel principal","Tableau de bord","Dashboard","Panel kontrolny"],"title":["Stav tiskárny","Druckerstatus","Printer status","Estado de la impresora","État de l\'imprimante","Stato della stampante","Stan drukarki"]},"proj":{"link":["Projekty","Projekte","Projects","Projectos","Projets","Progetti","Projekty"],"title":["Soubory projektu","Projektdateien","Project files","Archivos de proyecto","Fichiers de projet","File di progetto","Pliki projektu"],"main":["Zpět","Startseite","Main","Principal","Principal","Principale","Główne"],"del":["Smazat soubor","Datei löschen","Delete File","Borrar archivo","Supprimer le Fichier","Elimina File","Usuń plik"]},"settings":{"title":["Nastavení",null,"Settings",null,null,null,null]},"prop":{"temp-nozzle":["Teplota trysky","Düsentemperatur","Nozzle Temperature","Temperatura del nozzle","Température de la buse","Temperatura ugello","Temperatura dyszy"],"temp-bed":["Vyhřívaná podložka","Heizbett","Heatbed","Base calefactable","Plateau chauffant","Piano riscaldato","Stół"],"speed":["Rychlost tisku","Druckgeschwindigkeit","Printing Speed","Velocidad de impresión","Vitesse d\'impression","Velocità di stampa","Prędkość drukowania"],"z-height":["Výška Z","Z-Höhe","Z-Height","Altura-Z","Hauteur en Z","Altezza-Z","Wysokość Z"],"material":["Materiál","Material","Material","Material","Matériau","Materiale","Materiał"],"rem-time":["Zbývající čas","Restzeit","Remaining time","Tiempo restante","Temps restant","Tempo residuo","Pozostały czas"],"time-est":["Odhad doby tisku","Druckzeit Schätzen","Print Time Estimate","Tiempo Estimado de Impresión","Estimation du Temps D\'impression","Stima del Tempo di Stampa","Szacowany Czas Druku"],"est-end":["Odhadovaný konec","Erwartetes Ende","Estimated end","Fin estimado","Fin estimée","Fine prevista","Szacowane zakończenie"],"pnt-time":["Doba tisku","Druckzeit","Printing time","Tiempo de impresión","Temps d\'impression","Tempo di stampa","Czas druku"],"layers":["Vrstvy","Schichten","Layers","Capas","Couches","Layer","Warstwy"],"layer-ht":["Výška vrstvy","Schichthöhe","Layer Height","Altura de Capa","Hauteur de Couche","Altezza Layer","Wysokość Warstwy"],"last-mod":["Naposledy upraveno","Zuletzt Geändert","Last Modified","Ultima Modificación","Dernière Modification","Ultima Modifica","Ostatnio Zmodyfikowany"],"st-pausing":["Pozastavuje se",null,"Pausing",null,null,null,null],"st-paused":["Pozastavena",null,"Paused",null,null,null,null],"st-printing":["Probíhá tisk","Druckt","Printing","Imprimiendo","Impression","Stampa","Drukowanie"],"st-idle":["Nečinná","Leerlauf","Idle","En espera","Repos","Inattivo","Oczekuje"],"at":["v","um","at","a las","à","alle","o"],"less-than":["Méně než minuta","Weniger als eine Minute","Less than a minute","Menos de un minuto","Moins d\'une minute","Meno di un minuto","Mniej niż minuta"],"today-at":["Dnes v","Heute um","Today at","Hoy a las","Aujourd\'hui à","Oggi alle","Dzisiaj o"],"tmw-at":["Zítra v","Morgen um","Tomorrow at","Mañana a las","Demain à","Domani alle","Jutro o"],"na":["N/A","NV","NA","NA","NA","ND","N/D"],"cover-opened":["Otevřené","Geöffnet","Opened","Abierta","Ouvert","Aperto","Otwarta"],"cover-closed":["Uzavřené","Geschlossen","Closed","Cerrada","Fermé","Chiuso","Zamknięta"]},"msg":{"modal-p1":["Vítejte na webovém rozhraní vaší","Willkommen zur Weboberfläche Ihres","Welcome to the web interface of your","Bienvenido a la interfaz web de tu","Bienvenue dans l\'interface web de votre","Benvenuto nell\'interfaccia web del tuo","Witaj w interfejsie Twojej"],"modal-p2":["Upozornění: některé hodnoty jsou zobrazeny pouze v průběhu tisku.","Bitte beachten Sie, dass die Werte nur angezeigt werden, wenn der Drucker gerade druckt.","Please note that values are shown only when the printer is printing.","Tenga en cuenta que los valores se muestran solo cuando la impresora está imprimiendo.","Veuillez noter que les valeurs sont affichées uniquement lorsque l\'imprimante imprime.","Si noti che i valori vengono visualizzati solo durante la stampa.","Wartości będą wyświetlane tylko podczas drukowania."],"api-key-1":["Vítejte ve webovém rozhraní Prusa Connect Local!","Willkommen auf der Web-Oberfläche von Prusa Connect Local.","Welcome to the Prusa Link web interface.","Bienvenido a la interfaz web de Prusa Connect Local.","Bienvenue sur l\'interface web locale de Prusa Connect.","Benvenuti nell\'interfaccia web di Prusa Connect Local.","Witaj w interfejsie sieciowym Prusa Connect Local."],"api-key-2":["Vložte API klíč.","Bitte geben Sie den API-Schlüssel ein.","Please insert the API key.","Por favor introduce la clave API.","Veuillez insérer la clé API.","Si prega di inserire la chiave API.","Wpisz klucz API."],"api-key-3":["Otevřete menu Nastavení -> Síť -> Přihlašovací údaje","Sie finden ihn in Einstellungen -> Netzwerk -> Anmeldedaten.","You can find it in Settings -> Network -> Login credentials.","Puedes encontrarla en Ajustes -> Red -> Credenciales de acceso.","Vous pouvez la trouver dans Réglages -> Réseau -> Informations de connexion.","È possibile trovarla in Impostazioni -> Rete -> Credenziali di accesso","Możesz znaleźć go w sekcji Ustawienia -> Sieć -> Dane logowania."],"del-proj":["Opravdu chcete smazat {{file_name}}?","Wollen Sie wirklich {{file_name}} löschen?","Do you really want to delete {{file_name}}?","¿Realmente deseas borrar {{file_name}}?","Voulez-vous vraiment supprimer le fichier {{file_name}} ?","Vuoi davvero eliminare il file {{file_name}}?","Czy na pewno chcesz usunąć plik {{file_name}}?"],"cancel":["Chcete opravdu zrušit tisk?","Wollen Sie den Druck wirklich abbrechen?","Do you really want to cancel print?","¿Realmente quieres cancelar la impresión?","Voulez-vous vraiment annuler l\'impression ?","Vuoi davvero annullare la stampa?","Czy na pewno chcesz anulować wydruk?"]},"btn":{"login":["Přihlášení","Login","Login","Iniciar sesión","Connexion","Accedi","Zaloguj"],"del":["smazat","löschen","delete","borrar","supprimer","elimina","usuń"],"download":["stáhnout",null,"download",null,null,null,null],"pause-pt":["Pozastavit tisk",null,"Pause print",null,null,null,null],"resume-pt":["Pokračovat v tisku",null,"Resume print",null,null,null,null],"start-pt":["Start tisku","Druck starten","Start print","Empezar impresión","Lancer l\'impression","Inizia stampa","Start druku"],"cancel":["Zrušit","Abbrechen","Cancel","Cancelar","Annuler","Annulla","Anuluj"],"cancel-pt":["Zrušit tisk","Druck abbrechen","Cancel print","Cancelar impresión","Annuler l\'impression","Annulla stampa","Anuluj wydruk"],"confirm":["Potvrdit","Bestätigen","Confirm","Confirmar","Confirmer","Conferma","Potwierdzam"],"yes":["Ano","Ja","Yes","Sí","Oui","Sì","Tak"],"no":["Ne","Nein","No","No","Non","No","Nie"],"save-chgs":["Uložit změny","Änderungen speichern","Save changes","Guardar cambios","Enregistrer les modifications","Salva le modifiche","Zapisz zmiany"]},"temps":{"x":["Čas [s]","Zeit [s]","Time [s]","Tiempo [s]","Temps [s]","Tempo [s]","Czas [s]"],"y":["Teplota [°C]","Temperatur [°C]","Temperature [°C]","Temperatura [°C]","Température [°C]","Temperatura [°C]","Temperatura [°C]"],"title":["Teploty","Temperaturen","Temperatures","Temperaturas","Températures","Temperature","Temperatury"]},"glob":{"hostname":["Hostname","Hostname","Hostname","Nombre del Host","Nom d\'hôte","Nome host","Nazwa Hosta"]},"print":{"fdm":{"1":["Je tiskárna připravena?",null,"Is the printer ready?",null,null,null,null],"2":["Je tisková podložka prázdná a čistá?",null,"Is printing sheet empty and clean?",null,null,null,null]}},"upld":{"title":["nahrát projekt","Projekt hochladen","upload project","envía proyecto","télécharger un projet","carica progetto","prześlij projekt"],"open":["Vyberte {{file}} nebo jej přetáhněte sem.","{{file}} wählen oder hier fallenlassen.","Choose a {{file}} or drop it here.","Selecciona un {{file}} o arrástralo aquí.","Choisissez un {{file}} ou déposez-le ici.","Scegli un {{file}} o trascinalo qui.","Wybierz {{file}} lub przeciągnij go tutaj"]},"version":{"title":["verze",null,"version",null,null,null,null],"api":["api",null,"api",null,null,null,null],"hostname":["hostname",null,"hostname",null,null,null,null],"firmware":["firmware",null,"firmware",null,null,null,null],"server":["server",null,"server",null,null,null,null],"text":["text",null,"text",null,null,null,null],"sdk":["sdk",null,"sdk",null,null,null,null]},"sys-version":{"title":["verze systému",null,"system version",null,null,null,null],"python":["python",null,"python",null,null,null,null],"description":["popis",null,"description",null,null,null,null],"id":["ID",null,"ID",null,null,null,null],"os":["OS",null,"OS",null,null,null,null]},"conn":{"title":["připojení",null,"connection",null,null,null,null],"prusa-connect-status":["stav připojení PRUSA CONNECT",null,"PRUSA CONNECT connection status",null,null,null,null],"suc":["Úspěšně připojeno",null,"Successfully connected",null,null,null,null],"unsuc":["Připojení se nezdařilo",null,"Connection failed",null,null,null,null],"printer-status":["stav připojení 3D tiskárny",null,"3D printer connection status",null,null,null,null]},"":[null,null,null,null,null,null,null],"logs":{"title":["logy",null,"logs",null,null,null,null],"select-file":["vyberte soubor",null,"select file",null,null,null,null],"empty-list":["Logy nejsou k dispozici!",null,"No logs available!",null,null,null,null],"empty-file":["Soubor je prázdný!",null,"Log file is empty!",null,null,null,null]},"unit":{"h":["h","h","h","h","h","h","g"],"min":["min","min","min","min","min","min","min"],"minute":["minuta","Minute","minute","minuto","minute","minuto","minuta"],"minute_plural":["minut","Minuten","minutes","minutos","minutes","minuti","minuty"],"ml":["ml","ml","ml","ml","ml","ml","ml"],"rpm":["RPM","UPM","RPM","RPM","TPM","RPM","Obroty"]},"ntf":{"success":[null,null,null,null,null,null,null],"upld-suc":["Projekt {{file_name}} úspěšně nahrán.","Das Hochladen des Projekts {{file_name}} war erfolgreich.","The project {{file_name}} uploaded successfully.","El envío del proyecto {{file_name}} se completó.","Le projet {{file_name}} a été téléchargé correctement.","Caricamento del progetto {{file_name}} riuscito.","Przesyłanie projektu {{file_name}} powiodło się."],"error":["Chyba","Fehler","Error","Error","Erreur","Errore","Błąd"],"upld-unsuc":["Nahrání projektu {{file_name}} selhalo.","Das Hochladen des Projekts {{file_name}} war nicht erfolgreich.","The project {{file_name}} upload was unsuccessful.","El envío del proyecto {{file_name}} ha fallado.","Le téléchargement du projet {{file_name}} a échoué.","Caricamento del progetto {{file_name}} non riuscito.","Przesyłanie projektu {{file_name}} nie powiodło się."],"start-print":["Tiskárna se připravuje.","Der Drucker bereitet sich vor.","The printer is getting ready.","La impresora se está preparando.","Préparation de l\'imprimante.","Preparazione della stampante.","Drukarka jest przygotowywana."]},"exp-times":{"exp-time":["Doba osvitu [s]","Belichtung [s]","Exposure [s]","Exposición [s]","Exposition [s]","Esposizione [s]","Czas naświetlania [s]"],"layer-1st":["Osvit první vrstvy [s]","Erste Schicht Bel. [s]","First Layer Expo. [s]","Primera Capa Expo. [s]","Première couche Expo. [s]","Esposizione Primo layer [s]","Naśw. 1. warstwy [s]"],"inc":["Navýšení expozice (s)","Belichtungszeit inkr. [s]","Exposure time incr. [s]","Incremento tiempo exp. [s]","Incr. du temps d\'exposition [s]","Incremento tempo di esposizione [s]","Przyrost czasu naświetl. [s]"],"title":["Změnit expoziční časy","Belichtungszeiten ändern","Change exposure times","Cambiar tiempos de exposición","Modifier les temps d\'exposition","Cambia i tempi di esposizione","Zmień czasy naświetlania"]},"refill":{"title":["Doplnit resin","Harz auffüllen","Refill resin","Rellenar resina","Faire le plein de résine","Riempire la resina","Uzupełnij żywicę"]}}}')},412:(e,t,a)=>{"use strict";a.d(t,{L:()=>s});var n=a(537);class s{set value(e){this._value=e,this.updateLabel()}get value(){return this._value}constructor(e,t,a){this._label=t,this._ul=a,this._value=t.innerHTML,this.is_open=!1,this.onselect=void 0;const n=()=>{this.close(),window.removeEventListener("click",n)},s=()=>{window.addEventListener("click",n),window.removeEventListener("pointerup",s)};e.onclick=e=>{e.preventDefault(),this.is_open?this.close():(this.open(),window.addEventListener("pointerup",s))}}static init(e){let t=(0,n.Z)(e);const a=document.getElementById("dropdown-template"),i=t.querySelector('select[data-type="dropdown"]');if(!i)return;i.after(document.importNode(a.content,!0));const l=i.nextElementSibling;i.remove();const o=l.querySelector(".dropdown-btn"),r=o.querySelector(".dropdown-label"),d=l.querySelector(".dropdown-content ul");if(o&&r&&d)return new s(o,r,d);console.error("Error while reading dropdowndropdown template")}setOptions(e){e.forEach((e=>{const t=document.createElement("li");t.innerHTML=e,t.onclick=()=>{this.select(e),this.onselect&&this.onselect(e),this.close()},this._ul.appendChild(t)}))}updateLabel(){this._label.innerHTML=this._value}select(e){this._label.innerHTML=e}open(){this._ul.classList.contains("open")||this._ul.classList.add("open"),this.is_open=!0}close(){this._ul.classList.remove(["open"]),this.is_open=!1}}},351:(e,t,a)=>{"use strict";a.d(t,{S:()=>s});var n=a(707);function s(e){if(e){const t=e.data;t&&(0,n.vU)(t.title,t.message)}}},236:(e,t,a)=>{"use strict";a.d(t,{o:()=>i});var n=a(780);const s={count:0,current:0},i=(e,t={})=>{const a=Object.assign({timeout:5500,closeOutside:!0},t),i=s.count;s.count=s.count+1;const l=document.querySelector(".modal-box"),o=l.parentElement;for(;l.firstChild;)l.removeChild(l.firstChild);const r=()=>{i==s.current&&o.classList.contains("show-modal")&&(o.classList.remove("show-modal"),a.closeCallback&&a.closeCallback())},d=e=>{e.target===o&&r()};a.closeOutside&&window.addEventListener("click",d);const c=e(r);s.current=i,l.appendChild(c),(0,n.ot)(l),o.classList.add("show-modal"),a.timeout>0&&setTimeout(r,a.timeout)}},707:(e,t,a)=>{"use strict";a.d(t,{um:()=>i,Vp:()=>l,vU:()=>o});const n=document.getElementById("prusa-toast"),s=(e,t,a)=>{const n=document.getElementById("toast"),s=document.importNode(n.content,!0),i=s.querySelector("article");return i.className=a,s.querySelector("p").innerHTML=e,s.querySelector(".toast-body").innerHTML=t,i};function i(e,t,a=""){const i=s(e,t,a);i.querySelector("span").addEventListener("click",(e=>{e.preventDefault(),i.style.display="none"})),setTimeout((()=>{n.removeChild(i)}),10500),n.appendChild(i)}function l(e,t){i(e,t,"success")}function o(e,t){const a=s(e,t,"error");a.querySelector("span").addEventListener("click",(e=>{e.preventDefault(),n.removeChild(a)})),n.appendChild(a)}},495:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n=a(67).default},67:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>st});var n=a(780);const s=500;let i=100,l=new Map;const o=(e,t)=>{l=e,i=t};function r(){const e=document.getElementById("graph");e&&(0==e.childElementCount&&function(){const e=document.getElementById("graph-template"),t=document.importNode(e.content,!0);document.getElementById("graph").appendChild(t),(0,n.ot)("graph")}(),l.forEach(((e,t)=>{!function(e,t){const a=(new Date).getTime();let n=[];if(e.length>1){let t=e[0],l=s-2.66*(a-t[0]-1e4)/1e3;for(let e=1;e<t.length;e++)n.push(`M${l},${250-2*t[e]/(i/100)}`);for(let o=1;o<e.length;o++){t=e[o],l=s-2.66*(a-t[0]-1e4)/1e3;for(let e=0;e<n.length;e++)n[e]=n[e]+`L${l},${250-2*t[e+1]/(i/100)}`}}t.setAttribute("d",n)}(e,document.getElementById(t))})))}function d(e,t){!function(e,t){e.push(t);const a=(new Date).getTime();for(;e.length>1&&e[1][0]<a-18e4;)e.shift()}(l.get(e),t)}const c={load:()=>{(0,n.Iu)("temps.title",{query:"#title-status-label"}),r()}};var p=a(319),u=a.n(p),m=a(707),g=a(351);const v=function(e,t,a){return new Promise(((n,s)=>{var i=new XMLHttpRequest;const l=()=>{s(void 0)};!function(e,t){if(t){const a=e=>{if(!e.lengthComputable)return;let a=Math.round(e.loaded/e.total*100);t({loaded:e.loaded,total:e.total,percentage:a})};e.upload.addEventListener("progress",a,!1)}}(i,a.onProgress),i.addEventListener("load",(e=>{const t=function(e){function t(e){try{return JSON.parse(e)}catch{return}}return{status:e.status,statusText:e.statusText,ok:e.status>=200&&e.status<=299,data:t(e.response)}}(e.target);t.ok?n(t):s(t)}),!1),i.addEventListener("error",l,!1),i.addEventListener("abort",l,!1),i.open("POST",e),i.send(t)}))};let h=!1,f=0,b={init:(e,t)=>{(0,n.Iu)("upld.open",{query:"#upload p",file:"*.gcode"}),function(e,t){var a=document.querySelector('#upload input[type="file"]');a&&(a.setAttribute("accept",".gcode"),a.onchange=()=>{if(a.files.length>0&&!h)var n=a.files[0];x(n,e,t)})}(e||"local",t),h&&(y("uploading"),w(f))}};function y(e){h="uploading"==e;const t=document.getElementById("upload");t&&t.setAttribute("data-state",e)}function w(e){f=e;const t=document.getElementById("upload-progress");t&&(t.innerHTML=`${e} %`)}const x=(e,t,a)=>{let s=`/api/files/${t||"local"}`;var i=new FormData;i.append("path",a||"/"),i.append("file",e),y("uploading"),v(s,i,{onProgress:e=>{return t=e.percentage,y("uploading"),void w(t);var t}}).then((t=>function(e){const t=(0,n.Iu)("ntf.success"),a=(0,n.Iu)("ntf.upld-suc",{file_name:e});(0,m.Vp)(t,a)}(e.name))).catch((e=>j(e))).finally((()=>function(){const e=document.querySelector('#upload input[type="file"]');e&&(e.value=""),w(0),y("choose")}()))};function j(e){if(e)(0,g.S)(e);else{const e=(0,n.Iu)("ntf.error"),t=(0,n.Iu)("ntf.upld-unsuc",{file_name:file.name});(0,m.vU)(e,t)}}const z=b;var k=a(648),S=a(751);const I={},T=()=>{I.title=null,I.questionChildren=null,I.yes=null,I.no=null,(0,S.c)(I.next)},P=e=>{const t=Object.assign({title:null,questionChildren:[],yes:e=>e(),no:e=>e(),yesText:(0,n.Iu)("btn.yes"),noText:(0,n.Iu)("btn.no"),next:"#projects"},e);for(let e in t)I[e]=t[e];(0,S.c)("#question")},E={load:()=>{I.title||(0,S.c)("#dashboard"),document.getElementById("title-status-label").innerHTML=I.title;const e=document.getElementById("question"),t=I.questionChildren;Array.isArray(t)?t.forEach((t=>e.appendChild(t))):e.innerHTML=t;for(let e of["yes","no"]){const t=document.getElementById(e),a=I[e];t.querySelector("p").innerHTML=I[e+"Text"],t.addEventListener("click",(e=>{e.stopPropagation(),(0,S.c)("#loading"),a(T)}))}}};(0,n.Iu)("exp-times.exp-time"),(0,n.Iu)("exp-times.layer-1st"),(0,n.Iu)("exp-times.inc");var C=a(876);const L=function(...e){let t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...e):e&&t.push(e)})),t.map((e=>("/"===e[0]&&(e=e.substring(1)),"/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),e))).filter((e=>""!==e)).join("/")},N=(0,n.Iu)("prop.at"),A=(0,n.Iu)("unit.h"),M=(0,n.Iu)("prop.less-than"),q=(0,n.Iu)("unit.min"),D=(0,n.Iu)("unit.minute"),B=(0,n.Iu)("unit.minute_plural"),_=((0,n.Iu)("unit.ml"),(0,n.Iu)("unit.rpm")),O=(0,n.Iu)("prop.today-at"),H=(0,n.Iu)("prop.tmw-at");function $(e){return e>0?e.toFixed(1):0}function Z(e){const t=new Date(1e3*e);return(t.toDateString()+" "+t.toTimeString()).substring(0,25)}function K(e){let t="00:00";if(e){let a=new Date,n=new Date(a.getTime()+1e3*e),s=new Date(a);s.setDate(s.getDate()+1);let i="";if(n.getDate()==a.getDate()&&n.getMonth()==a.getMonth())i=`${O} `;else if(n.getDate()==s.getDate()&&n.getMonth()==s.getMonth())i=`${H} `;else{let e={month:"numeric",day:"numeric"};i=`${n.toLocaleString(window.navigator.language,e)} ${N} `}t=i+("0"+n.getHours()).substr(-2)+":"+("0"+n.getMinutes()).substr(-2)}return t}function R(e){if(e<60)return M;const t=Math.floor(e/60%60),a=Math.floor(e/3600%24);return a>0?a+` ${A}`+(t>0?` ${t} ${q}`:""):t+" "+(t>1?B:D)}const V=(e,t)=>{if(void 0===t||null===t&&"progress"!==e)return(0,n.Iu)("prop.na");switch(e){case"number":return $(t);case"temp":return $(t)+" °C";case"fan":return $(t)+` ${_}`;case"print":return $(t)+" %";case"pos":return $(t)+" mm";case"date":return Z(t);case"time":return R(t);case"timeEst":return K(t);case"progress":return $(100*(t||0))+"%";case"material":return t||(0,n.Iu)("prop.na");default:return t}},W=(e,t)=>V(e,t),U=(e,t)=>{try{const a=e.split(".");let n=t;for(;a.length;)n=n[a.shift()];return n}catch(e){return}},F=(e,t)=>{document.querySelectorAll(`[data-type="${e}"]`).forEach((e=>{const a=e.dataset.where,n=a?U(a,t):t;e.innerHTML=W(e.dataset.format,n)}))},J=F;var G=a(236);const Q=()=>(0,k.LK)("/api/job",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:"pause",action:"pause"})}).catch((e=>(0,g.S)(e))),X=()=>(0,k.LK)("/api/job",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:"pause",action:"resume"})}).catch((e=>(0,g.S)(e))),Y=()=>{const e=window.location.hash;(0,S.c)("#loading"),P({title:(0,n.Iu)("btn.cancel"),questionChildren:(0,n.Iu)("msg.cancel"),yes:e=>{(0,k.LK)("/api/job",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:"cancel"})}).catch((e=>(0,g.S)(e))).finally((t=>e()))},next:e})},ee=e=>{const t=document.getElementById("modal-confirm"),a=document.importNode(t.content,!0);a.getElementById("yes").addEventListener("click",(t=>{t.preventDefault(),(0,S.c)("#loading"),((0,m.um)((0,n.Iu)("btn.start-pt"),(0,n.Iu)("ntf.start-print")),(0,k.LK)("/api/job",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:"start"})}).catch((e=>(0,g.S)(e)))).then((()=>{e(),(0,S.c)("#dashboard")&&history.pushState(null,document.title,"#dashboard")}))}));return a.getElementById("no").addEventListener("click",e),a},te=()=>{(0,G.o)(ee,{timeout:1e4,closeOutside:!1})},ae=()=>(0,k.LK)("/api/job",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:"cancel"})}).catch((e=>(0,g.S)(e)));const ne=function(e,t){let a=document.createElement("a");a.href=e,a.download=t||"",a.click(),a.remove()},se=e=>{e?.refs?.download&&(0,k.hn)(e.refs.download).then((t=>{ne(t,e.name||jobFile.name)})).catch((e=>(0,g.S)(e)))},ie=e=>{if(!e?.refs?.resource)return;const t=window.location.hash;P({title:(0,n.Iu)("proj.del"),questionChildren:(0,n.Iu)("msg.del-proj",{file_name:e.name}),yes:t=>{(0,k.LK)(e.refs.resource,{method:"DELETE"}).catch((e=>(0,g.S)(e))).finally((e=>t()))},next:t})};function le(e){return`inset(${100-100*e}% 0% 0% 0%)`}function oe(e,t=!0){e&&(t&&!e.hasAttribute("hidden")&&e.setAttribute("hidden",!0),!t&&e.hasAttribute("hidden")&&e.removeAttribute("hidden"))}function re(e,t=!0){oe(e,!t)}function de(e,t=!0){return function(e,t=!0){e&&(t&&!e.hasAttribute("disabled")&&e.setAttribute("disabled",!0),!t&&e.hasAttribute("disabled")&&e.removeAttribute("disabled"))}(e,!t)}function ce(e,t,a){if(!e)return;const n=e.querySelector(".fill");if(n){const e=`${["top","right","bottom","left"].map((e=>(e=>e===a?100-100*t+"%":0)(e))).join(" ")}`;n.style.inset=e}}let pe={path:null,job:{ready:!1,data:null,lastPrintingData:null,file:null},file:{ready:!1,data:null},thumbnail:{ready:!1,url:null}};function ue(e){if(!document.getElementById("job"))return;ge(e)&&he(e)}function me(e){ge(e)&&function(e){(0,k.LK)("/api/job").then((t=>{if(!t.data?.job)throw Error("No job data was provided!");const a=t.data,n=a.job.file,s=L(n.origin,n.path);s!==pe.path&&(pe={path:null,job:{ready:!1,data:null,lastPrintingData:null,file:null},file:{ready:!1,data:null},thumbnail:{ready:!1,url:null}},pe.path=s,re(document.querySelector("#job .loading-overlay")),function(e){(0,k.LK)(`/api/files/${e}`).then((t=>{const a=t.data;ve(e)&&(pe.file={ready:!0,data:a}),async function(e){if(!e)return null;try{return await(0,k.gJ)(e)}catch(t){return e}}(a.refs?.thumbnailBig).then((t=>{ve(e)&&(pe.thumbnail={ready:!0,url:t})}))})).catch((e=>(0,g.S)(e)))}(s));const i="Printing"===a.state?a:pe.job.lastPrintingData;pe.job={data:a,file:n,lastPrintingData:i,ready:!0},he(e)}))}(e)}function ge(e){const t=document.getElementById("job");if(!t)return!1;const a=Boolean(e?.printer?.state?.flags?.printing);return re(t,a),a}function ve(e){return pe.path===e}function he(e){const{file:t,thumbnail:a,job:n}=pe,s=pe.job.lastPrintingData||pe.job.data;if(n.ready){J("job",s);const t=e.printer.state,a="Printing"==t.text||t.flags.pausing||t.flags.paused;oe(document.querySelector("#job .preview-img"),a),oe(document.querySelector("#job .progress"),!a),a&&function(e){const t=e.printer.state,{thumbnail:a}=pe,n=document.querySelector(".progress-img-wrapper"),s=document.querySelector(".progress-with-img"),i=document.querySelector(".progress-without-img"),l=Boolean(a.ready&&a.url);l&&a.url&&!n?.hasChildNodes()&&function(e,t,a=0){if(!e)return;const n=document.createElement("div");n.className="progress-img";const s=document.createElement("img");s.src=t,s.className="background",n.appendChild(s);const i=document.createElement("img");i.src=t,i.className="foreground",i.style.clipPath=le(a),n.appendChild(i),e.appendChild(n)}(n,a.url);const o="Printing"===t.text||t.flags.pausing||t.flags.paused;oe(s,!(o&&l)),oe(i,!(o&&!l));const r=pe.job.lastPrintingData?.progress?.completion||0;l?(!function(e,t){if(!e)return;const a=e.querySelector(".foreground");a&&(a.style.clipPath=le(t))}(n,r),ce(s,r,"top")):ce(i,r,"right")}(e)}t.ready&&J("file",t.data),function(e){const{job:t,file:a}=pe,n=e.printer.state;(function(e){const t=document.querySelector("#job #cancel");re(t,e.flags.ready&&e.flags.operational),t&&!t.onclick&&(t.onclick=ae)})(n),function(e){const t=document.querySelector("#job #cancel-pt");oe(t,e.flags.ready&&e.flags.operational),t&&!t.onclick&&(t.onclick=Y)}(n),function(e){const t=document.querySelector("#job #pause"),a=function(e){return e?.flags?.printing&&"Printing"===e?.text}(e);re(t,a),de(t,a),t&&!t.onclick&&(t.onclick=Q)}(n),function(e){re(document.querySelector("#job #pausing"),e.flags.pausing)}(n),function(e){const t=document.querySelector("#job #resume");re(t,e.flags.paused),de(t,e.flags.paused),t&&!t.onclick&&(t.onclick=X)}(n),function(e){const t=document.querySelector("#job #start");re(t,e.flags.ready&&e.flags.operational),de(t,e.flags.operational),t&&!t.onclick&&(t.onclick=te)}(n),a.ready&&(function(e,t){const a=document.querySelector("#job #delete");de(a,t.refs?.resource),re(a,be(e)),a&&(a.onclick=()=>ie(t))}(n,a.data),function(e,t){const a=document.querySelector("#job #download");de(a,t.refs?.download),re(a,be(e)),a&&(a.onclick=()=>se(t))}(n,a.data));0}(e),a.ready&&(oe(document.querySelector("#job .loading-overlay")),fe(a.url))}function fe(e){const t=document.getElementById("preview-img");t&&(e||C.default)&&(t.src=e||C.default)}function be(e){return e?.flags?.printing&&("Operational"===e?.text||"Busy"===e?.text)}const ye=e=>{(e=>{const t=e.printer?.state?.flags;e&&t&&t.printing&&!t.ready?t.paused?(0,n.Iu)("prop.st-paused",{query:"#title-status"}):(0,n.Iu)("prop.st-printing",{query:"#title-status"}):(0,n.Iu)("prop.st-idle",{query:"#title-status"})})(e),me(e)},we={load:e=>{z.init(),r(),ue(e),ye(e)},update:ye};var xe=a(373),je=a.n(xe),ze=a(495);const ke=function(e,t="smooth"){if(!e)return;const a=e.getBoundingClientRect(),n=document.body.getBoundingClientRect(),s=a.top-n.top;(a.bottom>window.innerHeight||a.top<0)&&window.scroll({top:s,behavior:t})};let Se=null;const Ie={origin:"",current_path:[],files:{},eTag:null,free:0,total:0,firstTime:!0};function Te(){const e=Ie.origin,t=L(Ie.current_path.slice(1,Ie.current_path.length));z.init(e,t)}function Pe(e){e&&ue(e);const t=document.getElementById("projects");for(;t.firstChild;)t.removeChild(t.firstChild);if(0===Ie.current_path.length&&(Ie.origin="local"),Te(),Ie.current_path.length>0){let e=Ie.files.find((e=>e.name===Ie.current_path[0])).children;for(let t=1;t<Ie.current_path.length;t++){let a=Ie.current_path[t];e=e.find((e=>e.name===a)).children}document.getElementById("title-status-label").innerHTML=Ie.current_path.join(" > "),t.appendChild(Ee("node-up",1===Ie.current_path.length?(0,n.Iu)("proj.main"):"..",(()=>{Ie.current_path.pop(),Pe()})));for(let a of e)"folder"===a.type?t.appendChild(Ce(a.display||a.name,a.path)):t.appendChild(Ne(a))}else if(document.getElementById("title-status-label").innerHTML=(0,n.Iu)("proj.title"),Ie.files.length)for(let e of Ie.files)"folder"===e.type?t.appendChild(Ce(e.name,L(e.path),e.origin)):t.appendChild(Ne(e))}function Ee(e,t,a){const n=document.getElementById(e).content,s=document.importNode(n,!0);return s.querySelector(".node").addEventListener("click",(e=>{a(e),e.preventDefault()})),s.querySelector("p").appendChild(document.createTextNode(t)),s}function Ce(e,t,a){return Ee("node-folder",e,(()=>{a&&(Ie.origin=a),Ie.current_path=t.split("/").filter((e=>""!==e)),Pe()}))}function Le(e){return(0,k.LK)(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:"select"})}).then((e=>{me(ze.Z.getContext());const t=document.getElementById("job");t&&ke(t)})).catch((e=>{(0,g.S)(e)}))}function Ne(e){const t=Ee("node-project",e.display||e.name,(t=>(e=>{const t=Ae(e.name),a=L("api/files",t),n=ze.Z.getContext().printer.state.flags;n.printing?n.ready?ae().then((()=>Le(a))):(0,m.vU)("Can't preview project","Printer is printing!"):Le(a)})(e))),a=t.querySelector(".node-details");if(a.querySelectorAll(".details").forEach((t=>{(0,n.ot)(t);const s=U(t.dataset.where,e);if(s){const e=W(t.dataset.format,s);t.querySelector("p").innerHTML+=` <span>${e}</span>`}else a.removeChild(t)})),e.refs&&e.refs.thumbnailBig){const a=t.querySelector("img.node-img");(0,k.gJ)(e.refs.thumbnailBig).then((e=>{a.src=e}))}return function(e,t){const a=Ae(e.name),n=L("/api/files/",...a),s=t.querySelector("#delete"),i=t.querySelector("#download");(0,k.LK)(n).then((e=>{const t=e.data;s&&(s.disabled=!(t.refs&&t.refs.resource),s.onclick=e=>{ie(t),e.stopPropagation()}),i&&(i.disabled=!(t.refs&&t.refs.download),i.onclick=e=>{se(t),e.stopPropagation()})})).catch((()=>{}))}(e,t),t}function Ae(e){return[Ie.origin,...Ie.current_path,e]}const Me={load:Pe,update:e=>{Ie.firstTime&&(0,S.c)("#loading"),(0,k.LK)("/api/files?recursive=true",{headers:{"If-None-Match":Ie.eTag}}).then((e=>{const t=e.data,a=JSON.stringify(t);t&&Se!==a&&(Se=a,Ie.files=(e=>e.files)(t),Ie.free=t.free,Ie.total=t.total,Ie.eTag=e.eTag,Ie.firstTime=!1,"#projects"===window.location.hash&&(0,S.c)("#projects"))})).catch((e=>(0,g.S)(e))),me(e)}};var qe=a(3),De=a.n(qe),Be=a(198),_e=a.n(Be),Oe=a(685),He=a.n(Oe),$e=a(412);let Ze=null,Ke=null;function Re(e,t,a,n,s){e&&e.setAttribute("ok",Boolean(a)),t&&(t.innerHTML=(a?"":n+"</br>")+s)}function Ve(e){Ze=e,Ke=null,document.getElementById("download-log").onclick=()=>{ne(`api/logs?filename=${e}`,e)},We()}const We=()=>{(0,k.LK)("api/logs").then((e=>{const t=e.data.files;if(Ze){const e=t.find((e=>e.name===Ze));e&&(!Ke||e.date>Ke)&&(Ke=e.date,a=Ze,(0,k.iT)(`api/logs?filename=${a}`).then((e=>{const t=document.querySelector("ul.logs");t&&(e.data?t.innerHTML=e.data.split("\n").map((e=>`<li>${e}</li>`)).join(""):t.innerHTML=`<li>${(0,n.Iu)("logs.empty-file")}</li>`)})))}var a}))};function Ue(e){switch(e.toLowerCase()){case"python":return(0,n.Iu)("sys-version.python");case"description":return(0,n.Iu)("sys-version.description");case"id":return(0,n.Iu)("sys-version.id");case"os":return(0,n.Iu)("sys-version.os");default:return e}}const Fe={load:()=>{(0,n.Iu)("settings.title",{query:"#title-status-label"}),(0,k.LK)("api/version?system=true").then((e=>{const t={version:e.data};J("settings",t),function(e){const t=document.querySelector("#sys-version .table");if(t)for(const[a,n]of Object.entries(e.version.system)){const e=document.createElement("div");e.className="row";const s=document.createElement("div");s.className="col txt-size-3",s.innerHTML=`<p class="txt-bold txt-grey">${Ue(a)}</p>`,e.appendChild(s);const i=document.createElement("div");i.className="col txt-size-2",i.innerHTML=`<p>${n}</p>`,e.appendChild(i),t.appendChild(e)}}(t)})),(0,k.LK)("api/connection").then((e=>{const t=e.data;J("con-settings",t),function(e){const t=document.getElementById("conn-prusa-connect-status"),a=document.getElementById("conn-prusa-connect-status-msg"),{hostname:n,port:s,tls:i}=e.connect,{ok:l,message:o}=e.states.connect;Re(t,a,l,o,`(http${i?"s":""}://${n}:${s||8080})`)}(t),function(e){const t=document.getElementById("conn-printer-status"),a=document.getElementById("conn-printer-status-msg"),{port:n,baudrate:s}=e.current,{ok:i,message:l}=e.states.printer;Re(t,a,i,l,`(${n||8080} @ ${s||0}bps)`)}(t)})),(0,k.LK)("api/logs").then((e=>{const t=e.data.files,a=$e.L.init("settings"),n=t.map((e=>e.name));a.setOptions(n),a.select(n[0]),a.onselect=e=>{Ve(e)},Ve(n[0])}))},update:We};var Je=a(936),Ge=a.n(Je);const Qe={version:void 0,printer:void 0},Xe=e=>{const t=e.load;return e.load=()=>{(()=>{const e=document.getElementById("title-hostname");e&&(e.innerHTML=(0,n.Iu)("glob.hostname")+":",document.getElementById("title-hostname").innerHTML=Qe.version?.hostname||"localhost")})(),t(Qe)},e};let Ye=we;const et={routes:[{path:"dashboard",html:je(),module:Xe(we)},{path:"projects",html:De(),module:Xe(Me)},{path:"temperature",html:u(),module:Xe(c)},{path:"question",html:_e(),module:Xe(E)},{path:"loading",html:He(),module:Xe({load:()=>(0,n.Iu)("proj.title",{query:"#title-status-label"})})},{path:"settings",html:Ge(),module:Xe(Fe)}],init:(e,t)=>{Qe.version=e,Qe.printer=t,tt()},update:e=>{Qe.printer=e,F("telemetry",e),at(e),nt()},setModule:e=>{Ye=e},getContext:()=>Qe},tt=()=>{let e=new Map([["temp-line-blue",[]],["temp-line-orange",[]]]);o(e,300),r()},at=e=>{const t=(new Date).getTime();d("temp-line-blue",[t,e.temperature.bed.actual]),d("temp-line-orange",[t,e.temperature.tool0.actual]),r()},nt=()=>{Ye&&Ye.update&&Ye.update(Qe)},st=et},751:(e,t,a)=>{"use strict";a.d(t,{c:()=>i});var n=a(780),s=a(495);const i=e=>{const[t,a]=e.split("#");if(!a)return!1;const i=s.Z.routes.find((e=>e.path===a));if(!i)return!1;const l=document.getElementById("root");l.innerHTML="",(new DOMParser).parseFromString(i.html,"text/html").body.childNodes.forEach((e=>l.appendChild(e))),(0,n.ot)(l),i.module.load(),s.Z.setModule(i.module);const o=document.querySelector(`a[href="#${a}"]`);return o&&(document.getElementById("navbar").childNodes.forEach((e=>{"li"===e.nodeName.toLowerCase()&&e.classList.remove(["active"])})),o.parentNode.className="active"),!0}}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,a),i.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="",(()=>{"use strict";var e=a(751),t=a(495),n=a(648),s=a(412),i=a(780);const l=e=>{const t=s.L.init(e);t&&(t.setOptions((0,i.Vb)()),t.value=(0,i.G3)(),t.onselect=e=>{(0,i.m0)(e),window.location.reload()})};window.onload=()=>{document.getElementById("menu").addEventListener("click",(e=>{const t=document.getElementById("menu");"navbar-burger"==t.className?(t.className="navbar-burger burger-open",document.getElementById("navbar").className=""):(t.className="navbar-burger",document.getElementById("navbar").className="burger-menu")})),l("navbar"),(0,i.ot)(),document.querySelectorAll("a[href]").forEach((t=>{t.addEventListener("click",(a=>{(0,e.c)(t.href)&&(document.title="Original Prusa MK3 - "+t.innerText,history.pushState(null,document.title,t.href),a.preventDefault())}))})),(0,n.Z5)().then((a=>{(0,n.LK)("/api/printer").then((s=>{t.Z.init(a,s.data),setInterval((()=>(0,n.LK)("/api/printer").then((e=>{t.Z.update(e.data)})).catch((e=>{if(401==e.code){"false"==(sessionStorage.getItem("auth")||"false")&&(0,n.Z5)()}}))),1e3),window.onpopstate=t=>t&&(0,e.c)(t.currentTarget.location.hash),(0,e.c)(window.location.hash||"#dashboard")}))}))}})()})();
